package model;

/**
 * 读者实体类
 * @author JenaKJZ
 *
 */

public class Readers extends Users
{
	private int borrow_book_num;
	private float balance;
	private String address;
	private String company;
	
	public Readers() 
	{
		super();
		// TODO Auto-generated constructor stub
	}

	public Readers(int borrow_book_num, float balance, String address, String company) 
	{
		super();
		this.borrow_book_num = borrow_book_num;
		this.balance = balance;
		this.address = address;
		this.company = company;
	}

	public int getBorrow_book_num() {
		return borrow_book_num;
	}

	public void setBorrow_book_num(int borrow_book_num) {
		this.borrow_book_num = borrow_book_num;
	}

	public float getBalance() {
		return balance;
	}

	public void setBalance(float balance) {
		this.balance = balance;
	}

	public String getAddress() {
		return address;
	}

	public void setAddress(String address) {
		this.address = address;
	}

	public String getCompany() {
		return company;
	}

	public void setCompany(String company) {
		this.company = company;
	}
	
	public Reader GetInformation(){//获取对应读者的信息
		ResultSet rs = Select("select * from readers where reader_id=?",this.user_id);
		try {
			this.reader_name=rs.getString("reader_name");
			this.borrow_book_num=Integer.valueOf(rs.getString("borrow_book_num"));
			this.balance=Float.parseFloat(rs.getString("balance"));
			this.address=rs.getString("address");
			this.company=rs.getString("company");
		} catch (SQLException e) {
			// TODO 自动生成的 catch 块
			e.printStackTrace();
		}
		return this;
	}
	public ResultSet Select(String sql,String ...args) {
		DatabaseUtil Connect = new DatabaseUtil();
		Connection connect=null;
		connect = Connect.Connectsql(connect);
		ResultSet rs1 = null;
		try {
			PreparedStatement pstmt = connect.prepareStatement(sql);
			for(int i = 1;i <= args.length;i++) {
				pstmt.setString(i, args[i-1]);
			}
			rs1 = pstmt.executeQuery();
			rs1.next();
		} catch (SQLException e) {
			// TODO 自动生成的 catch 块
			e.printStackTrace();
		}
		return rs1;
	}
	public void PrintReader() {
		System.out.println(this.user_id);
		System.out.println(this.reader_name);
		System.out.println(this.borrow_book_num);
		System.out.println(this.balance);
		System.out.println(this.address);
		System.out.println(this.company);
	}

}
